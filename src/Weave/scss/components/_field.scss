.weave-input {
  display: inline-flex;
  flex-direction: column;
  position: relative;
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: top;
}

.weave-input--field {
  .weave-input__slot {
    height: auto;
    min-height: 19px;

    &.weave-input__root--outlined.weave-input--adorned-start {
      padding-left: 0;
      padding-inline-start: 0;
      padding-inline-end: 14px;
    }

    &.weave-input__root--filled.weave-input--adorned-start {
      padding-left: 0;
      padding-inline-start: 0;
      padding-inline-end: 12px;
    }

    &.weave-input__slot--no-padding {
      padding-top: 0px;
      padding-bottom: 0px;

      &.weave-input__root--filled {
        padding-top: 21px;
        padding-bottom: 2px;
      }

      &.weave-input__root--outlined {
        padding-top: 7px;
        padding-bottom: 2px;
      }
    }
  }
}

.weave-input--text {
  .weave-input__root {
    border-bottom: 1px solid var(--input-border-color, currentColor);
    opacity: 0.42;
  }

  // When wrapper has spin buttons, move border to wrapper
  .weave-input__input-wrapper--with-spin {
    border-bottom: 1px solid var(--input-border-color, currentColor);
    opacity: 0.42;

    .weave-input__root {
      border-bottom: none;
    }
  }
}

.weave-input--filled {
  .weave-input__root {
    background-color: var(--input-filled-background, currentColor);
    opacity: 0.04;
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
    border-bottom: 1px solid var(--input-border-color, currentColor);
  }

  // When wrapper has spin buttons, move styling to wrapper
  .weave-input__input-wrapper--with-spin {
    background-color: var(--input-filled-background, currentColor);
    opacity: 0.04;
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
    border-bottom: 1px solid var(--input-border-color, currentColor);

    .weave-input__root {
      background-color: transparent;
      border-radius: 0;
      border-bottom: none;
    }
  }
}

.weave-input--outlined {
  .weave-input__label {
    position: absolute;
    top: -8px;
    left: 10px;
    background-color: var(
      --input-label-background,
      var(--palette-background-default, transparent)
    );
    padding: 0 4px;
    margin-bottom: 0;
    z-index: 1;
    color: var(--input-label-color, var(--palette-text-primary, currentColor));
    opacity: 1;
  }

  .weave-input__input-wrapper {
    margin-top: 0;
  }

  .weave-input__root {
    border: 1px solid
      var(--input-outlined-border, var(--palette-text-primary, currentColor));
    border-radius: 4px;
    color: var(--palette-text-primary, currentColor);
    opacity: 1;
  }

  // When wrapper has spin buttons, move border to wrapper
  .weave-input__input-wrapper--with-spin {
    border: 1px solid
      var(--input-outlined-border, var(--palette-text-primary, currentColor));
    border-radius: 4px;
    opacity: 1;

    .weave-input__root {
      border: none;
      border-radius: 0;
    }
  }
}

.weave-input--margin-none {
  margin: 0;
}

.weave-input--margin-dense {
  margin: 4px 0;
}

.weave-input--margin-normal {
  margin: 8px 0;
}

.weave-input--disabled {
  opacity: 0.6;
  pointer-events: none;
}

.weave-input--error {
  .weave-input__root {
    border-color: var(--palette-error);
  }

  .weave-input__label {
    color: var(--palette-error);
  }

  &.weave-input--outlined {
    .weave-input__input-wrapper--with-spin {
      border-color: var(--palette-error);
    }
  }
}

// Color variants
.weave-input--primary {
  .weave-input__label {
    color: var(--palette-primary);
  }

  &.weave-input--outlined {
    .weave-input__root {
      border-color: var(--palette-primary);
    }

    .weave-input__input-wrapper--with-spin {
      border-color: var(--palette-primary);
    }
  }

  &.weave-input--filled {
    .weave-input__root {
      border-bottom-color: var(--palette-primary);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-primary);
    }
  }

  &.weave-input--text {
    .weave-input__root {
      border-bottom-color: var(--palette-primary);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-primary);
    }
  }
}

.weave-input--secondary {
  .weave-input__label {
    color: var(--palette-secondary);
  }

  &.weave-input--outlined {
    .weave-input__root {
      border-color: var(--palette-secondary);
    }

    .weave-input__input-wrapper--with-spin {
      border-color: var(--palette-secondary);
    }
  }

  &.weave-input--filled {
    .weave-input__root {
      border-bottom-color: var(--palette-secondary);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-secondary);
    }
  }

  &.weave-input--text {
    .weave-input__root {
      border-bottom-color: var(--palette-secondary);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-secondary);
    }
  }
}

.weave-input--tertiary {
  .weave-input__label {
    color: var(--palette-tertiary);
  }

  &.weave-input--outlined {
    .weave-input__root {
      border-color: var(--palette-tertiary);
    }

    .weave-input__input-wrapper--with-spin {
      border-color: var(--palette-tertiary);
    }
  }

  &.weave-input--filled {
    .weave-input__root {
      border-bottom-color: var(--palette-tertiary);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-tertiary);
    }
  }

  &.weave-input--text {
    .weave-input__root {
      border-bottom-color: var(--palette-tertiary);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-tertiary);
    }
  }
}

.weave-input--success {
  .weave-input__label {
    color: var(--palette-success);
  }

  &.weave-input--outlined {
    .weave-input__root {
      border-color: var(--palette-success);
    }

    .weave-input__input-wrapper--with-spin {
      border-color: var(--palette-success);
    }
  }

  &.weave-input--filled {
    .weave-input__root {
      border-bottom-color: var(--palette-success);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-success);
    }
  }

  &.weave-input--text {
    .weave-input__root {
      border-bottom-color: var(--palette-success);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-success);
    }
  }
}

.weave-input--warning {
  .weave-input__label {
    color: var(--palette-warning);
  }

  &.weave-input--outlined {
    .weave-input__root {
      border-color: var(--palette-warning);
    }

    .weave-input__input-wrapper--with-spin {
      border-color: var(--palette-warning);
    }
  }

  &.weave-input--filled {
    .weave-input__root {
      border-bottom-color: var(--palette-warning);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-warning);
    }
  }

  &.weave-input--text {
    .weave-input__root {
      border-bottom-color: var(--palette-warning);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-warning);
    }
  }
}

.weave-input--info {
  .weave-input__label {
    color: var(--palette-info);
  }

  &.weave-input--outlined {
    .weave-input__root {
      border-color: var(--palette-info);
    }

    .weave-input__input-wrapper--with-spin {
      border-color: var(--palette-info);
    }
  }

  &.weave-input--filled {
    .weave-input__root {
      border-bottom-color: var(--palette-info);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-info);
    }
  }

  &.weave-input--text {
    .weave-input__root {
      border-bottom-color: var(--palette-info);
    }

    .weave-input__input-wrapper--with-spin {
      border-bottom-color: var(--palette-info);
    }
  }
}

.weave-input__slot {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
}

.weave-input__input-wrapper {
  display: flex;
  align-items: stretch;
  width: 100%;
}

.weave-input__root {
  font-family: inherit;
  font-size: 1rem;
  line-height: 1.5;
  color: currentColor;
  box-sizing: border-box;
  padding: 8px 12px;
  width: 100%;
  border: none;
  background: transparent;
  outline: none;

  &:focus {
    outline: none;
  }
}

.weave-input__root--text {
  padding: 4px 0 5px;
}

.weave-input__root--filled {
  padding: 27px 12px 10px;
}

.weave-input__root--outlined {
  padding: 10px 14px;
}

.weave-input__label {
  display: block;
  font-size: 0.875rem;
  line-height: 1;
  margin-bottom: 4px;
  color: var(--input-label-color, var(--palette-text-primary, currentColor));
  opacity: 0.7;
  transition: color 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;
}

.weave-input__label--focused {
  color: var(--palette-primary);
}

.weave-input__helper-text {
  font-size: 0.75rem;
  line-height: 1.66;
  margin-top: 4px;
  color: var(--input-helper-text-color, currentColor);
  opacity: 0.7;
}

.weave-input__error-text {
  font-size: 0.75rem;
  line-height: 1.66;
  margin-top: 4px;
  color: var(--palette-error);
}

.weave-input__numeric-spin {
  display: flex;
  flex-direction: column;
  align-self: center;
  gap: 2px;

  button {
    min-width: 30px;
    padding: 2px 4px;
    font-size: 0.625rem;
    line-height: 1;
    color: var(--palette-text-primary, currentColor);
  }
}

/* Hide native browser spin buttons for number inputs when using custom spin buttons */
.weave-input--hide-native-spin {
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
    appearance: textfield;
  }
}

.width-full {
  width: 100%;
}
